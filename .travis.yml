language: python

python:
  - "2.7"

sudo: false

before_install:
  - pip install MYSQL-python SQLAlchemy
  - pip install Jinja2
  - pip install python-dateutil
  - pip install coveralls

install:
  - ./setup.py install

before_script:
  - mysql -e 'create database testhat;'

script:
  - cd tests
  - ./run_tests.py
  - coverage run --source=sortinghat run_tests.py

after_success:
  - coveralls

notifications:
  irc: "chat.freenode.net#metrics-grimoire"
